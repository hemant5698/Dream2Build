var megaMenu;!function(A){var C={menuFocus:"%1$s. Menu item %2$d of %3$d.",moveDown:"Move down one",moveOutFrom:"Move out from under %s",moveToTop:"Move to the top",moveUnder:"Move under %s",moveUp:"Move up one",oneThemeLocationNoMenus:"",outFrom:"Out from under %s",subMenuFocus:"%1$s. Sub item number %2$d under %3$s.",under:"Under %s"},e="0",t="20",n="30",i="50",s="85",a="150",o="151",r="155",u="156",m="160",x="5",T="10",D=megaMenu={options:{menuItemDepthPerLevel:30,globalMaxDepth:11,sortableItems:"> *",targetTolerance:0},menuList:void 0,targetList:void 0,menusChanged:!1,isRTL:void 0,negateIfRTL:void 0,isLoaded:!1,init:function(){this.isLoaded=!0,D.menuList=A("#menu-to-edit"),D.targetList=D.menuList,D.isRTL="true"===A(".menu-items-administration").attr("data-isRtl"),D.negateIfRTL=D.isRTL?-1:1,this.jQueryExtensions(),this.attachMenuEditListeners(),this.attachUnsavedChangesListener(),D.menuList.length&&this.initSortables(),this.initAccessibility(),this.initPreviewing(),this.refreshColumnLayouts(),this.refreshRowLayouts(),this.denoteColumns(),this.denoteRows(),this.refreshColumns()},jQueryExtensions:function(){A.fn.extend({getAllColumnLayoutsInsideElement:function(){return this.has("span.item-title:first > span[data-itemtype="+a+"]")},getAllRowLayoutsInsideElement:function(){return this.has("span.item-title:first > span[data-itemtype="+o+"]")},getAllColumnsInsideElement:function(){return this.has("span.item-title:first > span[data-itemtype="+r+"]")},getAllRowsInsideElement:function(){return this.has("span.item-title:first > span[data-itemtype="+u+"]")},isMenuItemOfType:function(e){return 0<this.has("span.item-title:first > span[data-itemtype="+e+"]").length},isColumnsLayout:function(){return this.isMenuItemOfType(a)},isRowsLayout:function(){return this.isMenuItemOfType(o)},isColumn:function(){return this.isMenuItemOfType(r)},isRow:function(){return this.isMenuItemOfType(u)},isPicture:function(){return this.isMenuItemOfType(m)},isCategories:function(){return this.isMenuItemOfType(e)},isManufacturers:function(){return this.isMenuItemOfType(t)},isVendors:function(){return this.isMenuItemOfType(n)},isTopics:function(){return this.isMenuItemOfType(i)},isProductTags:function(){return this.isMenuItemOfType(s)},menuItemDepth:function(){var e=D.isRTL?this.eq(0).css("margin-right"):this.eq(0).css("margin-left");return D.pxToDepth(e&&-1!=e.indexOf("px")?e.slice(0,-2):0)},updateDepthClass:function(t,i){return this.each(function(){var e=A(this);i=i||e.menuItemDepth(),A(this).removeClass("menu-item-depth-"+i).addClass("menu-item-depth-"+t)})},shiftDepthClass:function(t){return this.each(function(){var e=A(this).menuItemDepth();A(this).removeClass("menu-item-depth-"+e).addClass("menu-item-depth-"+(e+t))})},childMenuItems:function(){var n=A();return this.each(function(){for(var e=A(this),t=e.menuItemDepth(),i=e.next(".menu-item");i.length&&i.menuItemDepth()>t;)n=n.add(i),i=i.next(".menu-item")}),n},shiftHorizontally:function(n){return this.each(function(){var e=A(this),t=e.menuItemDepth(),i=t+n;e.moveHorizontally(i,t)})},moveHorizontally:function(s,a){return this.each(function(){var e=A(this),t=e.childMenuItems(),n=s-a,i=e.find(".is-submenu");e.updateDepthClass(s,a).updateParentMenuItemDBId(),t&&t.each(function(){var e=A(this),t=e.menuItemDepth(),i=t+n;e.updateDepthClass(i,t).updateParentMenuItemDBId()}),0===s?i.hide():i.show()})},updateParentMenuItemDBId:function(){return this.each(function(){var e=A(this),t=e.find(".menu-item-data-parent-id"),i=parseInt(e.menuItemDepth(),10),n=i-1,s=e.prevAll(".menu-item-depth-"+n).first();0===i?t.val(0):t.val(s.find(".menu-item-data-db-id").val())})},getItemData:function(t,i){t=t||"menu-item";var n,s={},a=["menu-item-db-id","menu-item-object-id","menu-item-object","menu-item-parent-id","menu-item-position","menu-item-type","menu-item-title","menu-item-url","menu-item-description","menu-item-attr-title","menu-item-target","menu-item-classes","menu-item-xfn"];return i||"menu-item"!=t||(i=this.find(".menu-item-data-db-id").val()),i&&this.find("input").each(function(){var e;for(n=a.length;n--;)"menu-item"==t?e=a[n]+"["+i+"]":"add-menu-item"==t&&(e="menu-item["+i+"]["+a[n]+"]"),this.name&&e==this.name&&(s[a[n]]=this.value)}),s}})},countMenuItems:function(e){return A(".menu-item-depth-"+e).length},moveMenuItem:function(e,t){var i,n,s,a=A("#menu-to-edit li"),o=a.length,r=e.parents("li.menu-item"),u=r.childMenuItems(),m=r.getItemData(),l=parseInt(r.menuItemDepth(),10),d=parseInt(r.index(),10),c=r.next(),h=c.childMenuItems(),f=parseInt(c.menuItemDepth(),10)+1,p=r.prev(),v=parseInt(p.menuItemDepth(),10),g=p.getItemData()["menu-item-db-id"];switch(t){case"up":if(n=d-1,0===d)break;0==n&&0!==l&&r.moveHorizontally(0,l),0!==v&&r.moveHorizontally(v,l),u?(i=r.add(u)).detach().insertBefore(a.eq(n)).updateParentMenuItemDBId():r.detach().insertBefore(a.eq(n)).updateParentMenuItemDBId();break;case"down":if(u){if(i=r.add(u),(h=0!==(c=a.eq(i.length+d)).childMenuItems().length)&&(s=parseInt(c.menuItemDepth(),10)+1,r.moveHorizontally(s,l)),o===d+i.length)break;i.detach().insertAfter(a.eq(d+i.length)).updateParentMenuItemDBId()}else{if(0!==h.length&&r.moveHorizontally(f,l),o===d+1)break;r.detach().insertAfter(a.eq(d+1)).updateParentMenuItemDBId()}break;case"top":if(0===d)break;u?(i=r.add(u)).detach().insertBefore(a.eq(0)).updateParentMenuItemDBId():r.detach().insertBefore(a.eq(0)).updateParentMenuItemDBId();break;case"left":if(0===l)break;r.shiftHorizontally(-1);break;case"right":if(0===d)break;if(m["menu-item-parent-id"]===g)break;r.shiftHorizontally(1)}e.focus(),D.registerChange(),D.refreshKeyboardAccessibility(),D.refreshAdvancedAccessibility()},initAccessibility:function(){var e=A("#menu-to-edit");D.refreshKeyboardAccessibility(),D.refreshAdvancedAccessibility(),e.on("mouseenter.refreshAccessibility focus.refreshAccessibility touchstart.refreshAccessibility",".menu-item",function(){D.refreshAdvancedAccessibilityOfItem(A(this).find("a.item-edit"))}),e.on("click","a.item-edit",function(){D.refreshAdvancedAccessibilityOfItem(A(this))}),e.on("click",".menus-move",function(e){var t=A(this).data("dir");void 0!==t&&D.moveMenuItem(A(this).parents("li.menu-item").find("a.item-edit"),t),e.preventDefault()})},refreshAdvancedAccessibilityOfItem:function(e){var t,i,n,s,a,o,r,u,m,l,d,c,h,f,p,v,g,y,I,b;!0===A(e).data("needs_accessibility_refresh")&&(h=0===(c=(d=(l=A(e)).closest("li.menu-item").first()).menuItemDepth()),f=l.closest(".menu-item-handle").find(".menu-item-title").text(),p=parseInt(d.index(),10),v=h?c:parseInt(c-1,10),g=d.prevAll(".menu-item-depth-"+v).first().find(".menu-item-title").text(),y=d.prevAll(".menu-item-depth-"+c).first().find(".menu-item-title").text(),I=A("#menu-to-edit li").length,b=d.nextAll(".menu-item-depth-"+c).length,d.find(".field-move").toggle(1<I),0!==p&&(t=d.find(".menus-move-up")).attr("aria-label",C.moveUp).css("display","inline"),0!==p&&h&&(t=d.find(".menus-move-top")).attr("aria-label",C.moveToTop).css("display","inline"),p+1!==I&&0!==p&&(t=d.find(".menus-move-down")).attr("aria-label",C.moveDown).css("display","inline"),0===p&&0!==b&&(t=d.find(".menus-move-down")).attr("aria-label",C.moveDown).css("display","inline"),h||(t=d.find(".menus-move-left"),i=C.outFrom.replace("%s",g),t.attr("aria-label",C.moveOutFrom.replace("%s",g)).text(i).css("display","inline")),0!==p&&d.find(".menu-item-data-parent-id").val()!==d.prev().find(".menu-item-data-db-id").val()&&(t=d.find(".menus-move-right"),i=C.under.replace("%s",y),t.attr("aria-label",C.moveUnder.replace("%s",y)).text(i).css("display","inline")),a=h?(s=(n=A(".menu-item-depth-0")).index(d)+1,I=n.length,C.menuFocus.replace("%1$s",f).replace("%2$d",s).replace("%3$d",I)):(r=(o=d.prevAll(".menu-item-depth-"+parseInt(c-1,10)).first()).find(".menu-item-data-db-id").val(),u=o.find(".menu-item-title").text(),m=A('.menu-item .menu-item-data-parent-id[value="'+r+'"]'),s=A(m.parents(".menu-item").get().reverse()).index(d)+1,C.subMenuFocus.replace("%1$s",f).replace("%2$d",s).replace("%3$s",u)),l.attr("aria-label",a).text(a),l.data("needs_accessibility_refresh",!1))},refreshAdvancedAccessibility:function(){A(".menu-item-settings .field-move a").hide(),A("a.item-edit").data("needs_accessibility_refresh",!0),A(".menu-item-edit-active a.item-edit").each(function(){D.refreshAdvancedAccessibilityOfItem(this)})},refreshKeyboardAccessibility:function(){A("a.item-edit").off("focus").on("focus",function(){A(this).off("keydown").on("keydown",function(e){var t,i=A(this),n=i.parents("li.menu-item").getItemData();if((37==e.which||38==e.which||39==e.which||40==e.which)&&(i.off("keydown"),1!==A("#menu-to-edit li").length)){switch(t={38:"up",40:"down",37:"left",39:"right"},A("body").hasClass("rtl")&&(t={38:"up",40:"down",39:"left",37:"right"}),t[e.which]){case"up":D.moveMenuItem(i,"up");break;case"down":D.moveMenuItem(i,"down");break;case"left":D.moveMenuItem(i,"left");break;case"right":D.moveMenuItem(i,"right")}return A("#edit-"+n["menu-item-db-id"]).focus(),!1}})})},initPreviewing:function(){A("#menu-to-edit").on("change input setTitle",".edit-menu-item-title:not(.localized)",function(e){var t,i=A(e.currentTarget),n=i.closest(".menu-item"),s=n.find(".menu-item-title"),a=i.val();a?s.text(a).removeClass("no-title"):(t=A("#mega-menu-info").attr("data-noLabel"),s.text(t).addClass("no-title")),n.isColumnsLayout()?(D.refreshColumnLayouts(),D.refreshColumns()):n.isRowsLayout()?D.refreshRowLayouts():n.isColumn()&&D.refreshColumns()})},initSortables:function(){function r(e,t){C="";var i,n,s,a,o,r,u,m,l,d,c,h,f,p,v,g,y=e.item,I=e.placeholder.prevAll(".menu-item-depth-"+(t-1)).first(),b=e.placeholder.prevAll(".menu-item-depth-"+(t-2)).first();return I.is(y)&&(I=y.prevAll(".menu-item-depth-"+(t-1)).first()),(b.is(y)||b.is(I))&&(b=y.prevAll(".menu-item-depth-"+(t-2)).first()),i=I,!!(y.isPicture()?((n=!i.isColumn())&&(C=A("#mega-menu-info").attr("data-invalidNesting-picture-asMovingItem")),n):i.isPicture()&&(C=A("#mega-menu-info").attr("data-invalidNesting-picture-asParentItem"),1))||(a=I,o=b,!!((s=y).isColumn()?((r=!(a.isColumnsLayout()||a.isRow()&&o.isRowsLayout()))&&(C=A("#mega-menu-info").attr("data-invalidNesting-column-asMovingItem")),r):a.isColumn()&&((r=o.isColumnsLayout()&&!s.isRow()||s.isColumnsLayout()||s.isRowsLayout())&&(C=A("#mega-menu-info").attr("data-invalidNesting-column-asParentItem")),r))||(m=I,l=b,!!((u=y).isRow()?((d=!(m.isRowsLayout()||m.isColumn()&&l.isColumnsLayout()))&&(C=A("#mega-menu-info").attr("data-invalidNesting-row-asMovingItem")),d):m.isRow()&&((d=l.isRowsLayout()&&!u.isColumn()||u.isColumnsLayout()||u.isRowsLayout())&&(C=A("#mega-menu-info").attr("data-invalidNesting-row-asParentItem")),d))||(h=I,!!((c=y).isColumnsLayout()?((f=0<h.length)&&(C=A("#mega-menu-info").attr("data-invalidNesting-columnsLayout-asMovingItem")),f):h.isColumnsLayout()&&((f=!c.isColumn())&&(C=A("#mega-menu-info").attr("data-invalidNesting-columnsLayout-asParentItem")),f))||(v=I,!!((p=y).isRowsLayout()?((g=0<v.length)&&(C=A("#mega-menu-info").attr("data-invalidNesting-rowsLayout-asMovingItem")),g):v.isRowsLayout()&&((g=!p.isRow())&&(C=A("#mega-menu-info").attr("data-invalidNesting-rowsLayout-asParentItem")),g))||!!function(e,t,i){if(e.isCategories()||e.isManufacturers()||e.isVendors()||e.isTopics()||e.isProductTags()){if(t.isColumn())return!1;if(0===i)return!1;var n=e.find(".item-type").attr("data-itemtype"),s=e.find(".edit-menu-item-entityId").val(),a=e.find(".edit-menu-item-template").val();if("0"===s&&(e.isCategories()||e.isTopics()||e.isProductTags())||-1!==w.indexOf(n)&&-1!==L.indexOf(a))return C=A("#mega-menu-info").attr("data-invalidNesting-templateBasedMenuItems"),!0}if(t.isCategories()||t.isManufacturers()||t.isVendors()||t.isTopics()||t.isProductTags()){var o=t.find(".item-type").attr("data-itemtype"),r=t.find(".edit-menu-item-entityId").val(),u=t.find(".edit-menu-item-template").val();if("0"===r&&(t.isCategories()||t.isTopics()||t.isProductTags())||-1!==w.indexOf(o)&&-1!==L.indexOf(u))return C=A("#mega-menu-info").attr("data-invalidNesting-templateBasedMenuItems"),!0}return!1}(y,I,t)))))}var C,o,u,m,i,l,d,c,h,f,p,v=!0,L=[x,T],w=[e,t,n],a=0,g=D.menuList.offset().left,y=A("body"),I=function(){if(!y[0].className)return 0;var e=y[0].className.match(/menu-max-depth-(\d+)/);return e&&e[1]?parseInt(e[1],10):0}();function b(e){var t;i=e.placeholder.prev(".menu-item"),l=e.placeholder.next(".menu-item"),i[0]==e.item[0]&&(i=i.prev(".menu-item")),l[0]==e.item[0]&&(l=l.next(".menu-item")),d=i.length?i.offset().top+i.height():0,c=l.length?l.offset().top+l.height()/3:0,u=l.length?l.menuItemDepth():0,m=i.length?(t=i.menuItemDepth()+1)>D.options.globalMaxDepth?D.options.globalMaxDepth:t:0}function M(e,t){e.placeholder.updateDepthClass(t,a),a=t}0!==A("#menu-to-edit li").length&&A(".drag-instructions").show(),g+=D.isRTL?D.menuList.width():0,D.menuList.sortable({handle:".menu-item-handle",placeholder:"sortable-placeholder",items:D.options.sortableItems,start:function(e,t){var i,n,s,a;D.isRTL&&(t.item[0].style.right="auto"),f=t.item.children(".menu-item-transport"),o=t.item.menuItemDepth(),M(t,o),s=(t.item.next()[0]==t.placeholder[0]?t.item.next():t.item).childMenuItems(),f.append(s),i=f.outerHeight(),i+=0<i?+t.placeholder.css("margin-top").slice(0,-2):0,i+=t.helper.outerHeight(),h=i,i-=2,t.placeholder.height(i),p=o,s.each(function(){var e=A(this).menuItemDepth();p=p<e?e:p}),n=t.helper.find(".menu-item-handle").outerWidth(),n+=D.depthToPx(p-o),n-=2,t.placeholder.width(n),(a=t.placeholder.next(".menu-item")).css("margin-top",h+"px"),t.placeholder.detach(),A(this).sortable("refresh"),t.item.after(t.placeholder),a.css("margin-top",0),b(t)},stop:function(e,t){var i,n=a-o,s=f.children();if(s.insertAfter(t.item),!v)return C=C||A("#mega-menu-info").attr("data-invalidNesting-invalidOperation"),A(".invalid-nesting").text(C),A(".invalid-nesting").show(),setTimeout(function(){A(".invalid-nesting").fadeOut()},4e3),A(this).sortable("cancel"),void s.insertAfter(t.item);i=t.item.find(".item-title .is-submenu"),0<a?i.show():i.hide(),0!=n&&(t.item.updateDepthClass(a),s.shiftDepthClass(n),function(e){var t,i=I;{if(0===e)return;if(0<e)I<(t=p+e)&&(i=t);else if(e<0&&p==I)for(;!A(".menu-item-depth-"+i,D.menuList).length&&0<i;)i--}y.removeClass("menu-max-depth-"+I).addClass("menu-max-depth-"+i),I=i}(n)),D.registerChange(),t.item.updateParentMenuItemDBId(),t.item[0].style.top=0,D.isRTL&&(t.item[0].style.left="auto",t.item[0].style.right=0),D.refreshKeyboardAccessibility(),D.refreshAdvancedAccessibility(),t.item.isColumn()?D.denoteColumns():t.item.isRow()&&D.denoteRows()},change:function(e,t){t.placeholder.parent().hasClass("menu")||(i.length?i.after(t.placeholder):D.menuList.prepend(t.placeholder)),b(t)},sort:function(e,t){var i,n,s=t.helper.offset(),a=D.isRTL?s.left+t.helper.width():s.left,o=D.negateIfRTL*D.pxToDepth(a-g);m<o||s.top<d-D.options.targetTolerance?o=m:o<u&&(o=u),t.placeholder.css("border-color",""),v=!0,r(i=t,n=o)?(i.placeholder.css("border-color","#c00"),v=!1):i.placeholder.css("border-color",""),M(i,n),v&&c&&s.top+h>c&&(l.after(t.placeholder),b(t),A(this).sortable("refreshPositions"))}})},attachMenuEditListeners:function(){var t=this;A("#update-nav-menu").bind("click",function(e){if(e.target&&e.target.className){if(-1!=e.target.className.indexOf("item-edit"))return t.eventOnClickEditLink(e.target);if(-1!=e.target.className.indexOf("item-delete"))return t.eventOnClickMenuItemDelete(e.target)}}),A('#add-custom-links input[type="text"]').keypress(function(e){A("#customlinkdiv").removeClass("form-invalid"),13===e.keyCode&&(e.preventDefault(),A("#submit-customlinkdiv").click())})},addItemToMenu:function(t,e,i,n){i=i||function(){},n=n||function(){};var s=A(".menu-items-administration").attr("data-addMenuItemUrl"),a=e;addAntiForgeryToken(a),A.ajax({cache:!1,type:"POST",url:s,data:a}).done(function(e){var t=A("#menu-instructions");e=A.trim(e),i(e,a),A("li.pending").hide().fadeIn("slow"),A(".drag-instructions").show(),!t.hasClass("menu-instructions-inactive")&&t.siblings().length&&t.addClass("menu-instructions-inactive"),D.registerChange(),n()}).fail(function(e){t.append('<div class="error-message">'+e+"</div>")})},addMenuItemToBottom:function(e){A(e).appendTo(D.targetList),D.refreshKeyboardAccessibility(),D.refreshAdvancedAccessibility();var t=A(e).attr("data-menuItemId"),i=A("#menu-item-"+t);i.isColumnsLayout()?D.refreshColumnLayouts():i.isRowsLayout()&&D.refreshRowLayouts()},addMenuItemToTop:function(e){A(e).prependTo(D.targetList),D.refreshKeyboardAccessibility(),D.refreshAdvancedAccessibility();var t=A(e).attr("data-menuItemId"),i=A("#menu-item-"+t);i.isColumnsLayout()?D.refreshColumnLayouts():i.isRowsLayout()&&D.refreshRowLayouts()},addMenuItemToElement:function(e,t){var i,n,s,a=t.ParentMenuItemId,o=A("#menu-item-"+a);0<o.length&&(0<(i=o.childMenuItems()).length?A(e).insertAfter(i.last()):A(e).insertAfter(o),D.refreshKeyboardAccessibility(),D.refreshAdvancedAccessibility(),n=A(e).attr("data-menuItemId"),(s=A("#menu-item-"+n)).isColumn()?(D.denoteColumns(),D.refreshColumns()):s.isRow()&&D.denoteRows())},attachUnsavedChangesListener:function(){A("#menu-to-edit input, #menu-to-edit select").change(function(){D.registerChange()}),0!==A("#menu-to-edit").length?window.onbeforeunload=function(){if(D.menusChanged)return"The changes you made will be lost if you navigate away from this page."}:A("#menu-settings-column").find("input,select").end().find("a").attr("href","#").unbind("click")},registerChange:function(){D.menusChanged=!0},eventOnClickEditLink:function(e){var t,i,n=/#(.*)$/.exec(e.href);if(n&&n[1]&&0!==(i=(t=A("#"+n[1])).parent()).length)return i.hasClass("menu-item-edit-inactive")?(t.data("menu-item-data")||t.data("menu-item-data",t.getItemData()),t.slideDown("fast"),i.removeClass("menu-item-edit-inactive").addClass("menu-item-edit-active")):(t.slideUp("fast"),i.removeClass("menu-item-edit-active").addClass("menu-item-edit-inactive")),!1},eventOnClickMenuItemDelete:function(e){var t,i,n=parseInt(e.id.replace("menu-item-delete-",""),10),s=A("#menu-item-"+n),a=s.childMenuItems();return(s.isColumnsLayout()||s.isRowsLayout()||s.isColumn()||s.isRow())&&0<a.length?(t=A("#mega-menu-info").attr("data-confirmationWindow-button-removeAllItems"),i=A("#mega-menu-info").attr("data-confirmationWindow-button-cancel"),A("#dialog-confirm").dialog({resizable:!1,draggable:!1,height:"auto",width:400,modal:!0,buttons:[{text:t,icons:{primary:"ui-icon-closethick"},click:function(){D.removeMenuItem(s),a.each(function(){D.removeMenuItem(A(this))}),A(this).dialog("close")}},{text:i,icons:{primary:"ui-icon-cancel"},click:function(){A(this).dialog("close")}}]})):D.removeMenuItem(s),!1},removeMenuItem:function(e){var t=e.childMenuItems();e.addClass("deleting").animate({opacity:0,height:0},350,function(){e.remove(),t.shiftDepthClass(-1).updateParentMenuItemDBId(),0===A("#menu-to-edit li").length&&(A(".drag-instructions").hide(),A("#menu-instructions").removeClass("menu-instructions-inactive")),D.refreshAdvancedAccessibility(),e.isColumnsLayout()?(D.refreshColumnLayouts(),D.refreshColumns()):e.isRowsLayout()?D.refreshRowLayouts():e.isColumn()?(D.denoteColumns(),D.refreshColumns()):e.isRow()&&D.denoteRows(),D.registerChange()})},depthToPx:function(e){return e*D.options.menuItemDepthPerLevel},pxToDepth:function(e){return Math.floor(e/D.options.menuItemDepthPerLevel)},refreshColumnLayouts:function(){var e=D.menuList.find("li").getAllColumnLayoutsInsideElement();D.refreshLayouts(".has-column-layouts",".no-column-layouts",e)},refreshRowLayouts:function(){var e=D.menuList.find("li").getAllRowLayoutsInsideElement();D.refreshLayouts(".has-row-layouts",".no-row-layouts",e)},refreshLayouts:function(i,e,t){0<t.length?(A(i).show(),A(e).hide(),A(i+" select").empty(),t.each(function(){var e=A(this).attr("data-menuitemid")||0,t=A(this).find(".menu-item-title").text()||A("#mega-menu-info").attr("data-noLabel");A(i+" select").append('<option value="'+e+'">'+t+"</option>")})):(A(i).hide(),A(e).show())},refreshColumns:function(){var e=".has-columns",t=".no-columns",n=[];if(D.menuList.find("li").getAllColumnLayoutsInsideElement().each(function(){var t,e=A(this),i=e.childMenuItems().getAllColumnsInsideElement();0<i.length&&(t={title:e.find(".menu-item-title").text(),children:[]},i.each(function(){var e=A(this);t.children.push({id:e.attr("data-menuitemid")||0,title:e.find(".menu-item-title").text()+" "+e.find(".item-type").text()})}),n.push(t))}),0<n.length){A(e).show(),A(t).hide(),A(e+" select").empty();for(var i=0;i<n.length;i++){var s=n[i],a=s.children,o=A("<optgroup>");o.attr("label",s.title);for(var r=0;r<a.length;r++){var u=a[r],m=A("<option></option>");m.val(u.id),m.text(u.title),o.append(m)}A(e+" select").append(o)}}else A(e).hide(),A(t).show()},denoteColumns:function(){D.menuList.find("li").getAllColumnLayoutsInsideElement().each(function(){A(this).childMenuItems().getAllColumnsInsideElement().each(function(e){var t=A(this).find(".edit-menu-item-title:not(.localized)");0===t.val().length&&t.trigger("setTitle"),A(this).find(".item-type .position").text("["+ ++e+"]")})})},denoteRows:function(){D.menuList.find("li").getAllRowLayoutsInsideElement().each(function(){A(this).childMenuItems().getAllRowsInsideElement().each(function(e){A(this).find(".edit-menu-item-title:not(.localized)").trigger("setTitle"),A(this).find(".item-type .position").text("["+ ++e+"]")})})}};A(document).ready(function(){var e=A('a[data-toggle="tab"][data-tab-name="tab-menu-items"]');"true"===e.attr("aria-expanded")||e.parent("li").hasClass("active")?megaMenu.init():e.one("shown.bs.tab",function(){megaMenu.init()}),A(".save-settings-button").on("click",function(){D.menusChanged=!1})})}(jQuery);